(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,s){e.exports={userBlock:"User_userBlock__1y1xh",userAvatar:"User_userAvatar__2xlvm",wrapper:"User_wrapper__3AnU0",container:"User_container__26aTz",name:"User_name__20vHZ",message:"User_message__2VeYn",time:"User_time__2YFfd",status:"User_status__1yoN_",country:"User_country__CTOml",city:"User_city__3govu",location:"User_location__3U8WY",usersBlock:"User_usersBlock__2yHqg",userButton:"User_userButton__SP5j_",pages:"User_pages__1ffBA",selected:"User_selected__1gMF5"}},14:function(e,t,s){e.exports={navbar:"Navbar_navbar__1Mxxr",navbarItem:"Navbar_navbarItem__3M7c1",active:"Navbar_active__2C-fL"}},15:function(e,t,s){e.exports={dialogsContainer:"Dialogs_dialogsContainer__1W94s",dialogItem:"Dialogs_dialogItem__2BrAn",addMessage:"Dialogs_addMessage__1TBpI",dialog:"Dialogs_dialog__28ypv",dialogUsers:"Dialogs_dialogUsers__h0OWE",user:"Dialogs_user__3JAqJ",dialogMessage:"Dialogs_dialogMessage__25uiP",active:"Dialogs_active__34PuJ"}},30:function(e,t,s){e.exports={header:"Header_header__IbpOc",loginBlock:"Header_loginBlock__CV5cB"}},44:function(e,t,s){},5:function(e,t,s){e.exports={profileCont:"Profile_profileCont__Cb60M",mainImage:"Profile_mainImage__4aDZ5",profileInformation:"Profile_profileInformation__3BK1r",profileImage:"Profile_profileImage__1fSTy",person:"Profile_person__Uj3bJ",personDescription:"Profile_personDescription__RjZEY",posts:"Profile_posts__1u4C7",newPost:"Profile_newPost__3xvYh",usersPosts:"Profile_usersPosts__MUglw",postItem:"Profile_postItem__1Cau0"}},69:function(e,t,s){},70:function(e,t,s){"use strict";s.r(t);var a=s(24),n=s.n(a),r=s(1),i=s.n(r),c=(s(44),s(14)),o=s.n(c),u=s(6),l=s(0);var j=function(){return Object(l.jsxs)("div",{className:o.a.navbar,children:[Object(l.jsx)("div",{className:o.a.navbarItem,children:Object(l.jsx)(u.b,{activeClassName:o.a.active,to:"/profile",children:"Profile"})}),Object(l.jsx)("div",{className:o.a.navbarItem,children:Object(l.jsx)(u.b,{activeClassName:o.a.active,to:"/dialogs",children:"Dialogs"})}),Object(l.jsx)("div",{className:o.a.navbarItem,children:Object(l.jsx)(u.b,{activeClassName:o.a.active,to:"/users",children:"Users"})}),Object(l.jsx)("div",{className:o.a.navbarItem,children:Object(l.jsx)(u.b,{activeClassName:o.a.active,to:"/music",children:"Music"})}),Object(l.jsx)("div",{className:o.a.navbarItem,children:Object(l.jsx)(u.b,{activeClassName:o.a.active,to:"/settings",children:"Settings"})})]})},d=s(18),p=s(19),g=s(21),b=s(20),m=s(5),h=s.n(m),O=function(e){return Object(l.jsxs)("div",{className:h.a.profileInformation,children:[Object(l.jsx)("img",{src:e.photo,className:h.a.profileImage}),Object(l.jsxs)("div",{className:h.a.person,children:[Object(l.jsx)("div",{className:h.a.personDescription,children:" Ilya"}),Object(l.jsx)("div",{className:h.a.personDescription,children:" 26 y.o."}),Object(l.jsx)("div",{className:h.a.personDescription,children:"Saint-Petersburg"})]})]})},f=function(){return Object(l.jsx)("div",{className:h.a.posts,children:Object(l.jsx)("div",{className:"myPost",children:Object(l.jsx)("h3",{children:"Hey"})})})},_=function(e){var t=function(){e.createPost()};return Object(l.jsxs)("div",{className:h.a.newPost,children:[Object(l.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&t()},value:e.newPostText,onChange:function(t){var s=t.currentTarget.value;s&&e.updateNewPostText(s)}}),Object(l.jsx)("button",{onClick:t,children:"Send"})]})},v=s(12),x=s.n(v),P=function(e){return Object(l.jsxs)("div",{className:x.a.userBlock,children:[Object(l.jsx)("div",{className:x.a.userAvatar,children:e.photoUrl?Object(l.jsx)("img",{alt:"avatar",src:e.photoUrl}):Object(l.jsx)("img",{alt:"avatar",src:"https://insights.mgm-tp.com/wp-content/uploads/2019/04/default-avatar.png"})}),Object(l.jsx)("div",{className:x.a.userName,children:e.name}),Object(l.jsx)("p",{className:x.a.status,children:e.status})]})},N=function(e){return Object(l.jsxs)("div",{className:h.a.postItem,children:[Object(l.jsx)(P,{id:e.id,photoUrl:"https://insights.mgm-tp.com/wp-content/uploads/2019/04/default-avatar.png",name:e.username}),e.message]})},y=s(9),w=s(23),S=s(2),C="ADD_POST",T="CHANGE_NEW_POST_TEXT",U="SET_USER_PROFILE",I={post:[{id:1,username:"Liza",message:"Hey! How are you?"},{id:2,username:"Denchik",message:"Hey! How are you?"},{id:3,username:"Leo",message:"Hey! How are you?"}],userProfile:{aboutMe:"",contacts:{facebook:"",website:"",vk:"",twitter:"",instagram:""},fullName:"",lookingForAJob:!0,lookingForAJobDescription:"",photos:{small:"",large:""},userId:null},newPostText:""},k=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(D,{}),Object(l.jsx)(E,{})]})},D=Object(y.b)((function(e){return{newPostText:e.profilePage.newPostText}}),(function(e){return{createPost:function(){e({type:C})},updateNewPostText:function(t){e(function(e){return{type:T,text:e}}(t))}}}))(_),E=Object(y.b)((function(e){return{post:e.profilePage.post}}))((function(e){return Object(l.jsx)("div",{className:h.a.usersPosts,children:e.post.map((function(e){return Object(l.jsx)(N,{username:e.username,id:e.id,message:e.message})}))})})),M=s(16),A=s.n(M),F=s(4),B=function(e){Object(g.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t="2"),A.a.get("https://social-network.samuraijs.com/api/1.0/profile/".concat(t)).then((function(t){e.props.SetUserProfile(t.data)}))}},{key:"render",value:function(){var e;return Object(l.jsxs)("div",{className:h.a.profileCont,children:[Object(l.jsx)("img",{className:h.a.mainImage,src:"https://images.ctfassets.net/hrltx12pl8hq/4f6DfV5DbqaQUSw0uo0mWi/ff068ff5fc855601751499d694c0111a/shutterstock_376532611.jpg?fit=fill&w=800&h=300"}),Object(l.jsx)(O,{photo:null===(e=this.props.userProfile.photos)||void 0===e?void 0:e.small}),Object(l.jsx)(f,{}),Object(l.jsx)(k,{})]})}}]),s}(i.a.Component),H=Object(F.e)(B),L=Object(y.b)((function(e){return{userProfile:e.profilePage.userProfile}}),{SetUserProfile:function(e){return{type:U,profileData:e}}})(H),G=s(15),z=s.n(G),W=function(e){return Object(l.jsx)("div",{className:z.a.message,children:e.message})},J={dialogs:[{id:1,username:"Liza"},{id:2,username:"Denchik"},{id:3,username:"Leo"},{id:4,username:"Brodiyagi"}],messages:[{id:1,message:"Hey"},{id:2,message:"Hey"},{id:3,message:"Hey"},{id:4,message:"Hey"}],newMessageText:""},R=function(){return Object(l.jsx)(q,{})},Y=function(e){return Object(l.jsx)("div",{className:z.a.dialog,children:Object(l.jsx)(u.b,{to:"/dialogs/"+e.id,activeClassName:z.a.active,className:z.a.user,children:Object(l.jsx)(P,{id:e.id,photoUrl:"https://insights.mgm-tp.com/wp-content/uploads/2019/04/default-avatar.png",name:e.username})})})},q=Object(y.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:"CHANGE-MESSAGE-TEXT",newMessage:e}}(t))},sendMessage:function(){e({type:"SEND-MESSAGE"})}}}))((function(e){var t=e.dialogsPage.newMessageText,s=function(){e.sendMessage()},a=null;return a=t?null:"disable",Object(l.jsxs)("div",{className:z.a.dialogsContainer,children:[Object(l.jsxs)("div",{className:z.a.dialogItem,children:[Object(l.jsx)("div",{className:z.a.dialogUsers,children:e.dialogsPage.dialogs.map((function(e){return Object(l.jsx)(Y,{id:e.id,username:e.username})}))}),Object(l.jsx)("div",{className:z.a.dialogMessage,children:e.dialogsPage.messages.map((function(e){return Object(l.jsx)(W,{message:e.message})}))})]}),Object(l.jsxs)("div",{className:z.a.addMessage,children:[Object(l.jsx)("textarea",{onKeyPress:function(e){"Enter"===e.key&&s()},value:t,onChange:function(t){var s=t.currentTarget.value;s&&e.updateNewMessageBody(s)}}),Object(l.jsx)("button",{disabled:!!a,onClick:s,children:"Send"})]})]})})),K=function(){return Object(l.jsx)("div",{})},V=function(){return Object(l.jsx)("div",{})},X=s.p+"static/media/Preloader.cef7eb40.gif",Z=function(){return Object(l.jsx)("img",{alt:"icon",src:X})},Q=function(e){Object(g.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.SetToggleIsFetching(!0),A.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.SetToggleIsFetching(!1),e.props.SetUsers(t.data.items),e.props.SetTotalUsersCount(200)}))}},{key:"onPageChanged",value:function(e){var t=this;this.props.SetToggleIsFetching(!0),this.props.SetCurrentPage(e),A.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(e,"&count=").concat(this.props.pageSize)).then((function(e){t.props.SetToggleIsFetching(!1),t.props.SetUsers(e.data.items)}))}},{key:"render",value:function(){for(var e=this,t=Math.ceil(this.props.totalCount/this.props.pageSize),s=[],a=1;a<=t;a++)s.push(a);return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:s.map((function(t){return Object(l.jsx)("span",{onClick:function(){e.onPageChanged(t)},className:e.props.currentPage===t?x.a.selected:x.a.pages,children:t})}))}),this.props.isFetching&&Object(l.jsx)(Z,{}),this.props.items.map((function(t){return Object(l.jsx)("div",{className:x.a.wrapper,children:Object(l.jsx)("div",{className:x.a.container,children:Object(l.jsxs)("div",{className:x.a.usersBlock,children:[Object(l.jsx)(u.b,{to:"/profile/".concat(t.id),children:Object(l.jsx)(P,{name:t.name,photoUrl:t.photos.large,status:t.status,id:t.id},t.id)}),Object(l.jsx)("div",{children:t.followed?Object(l.jsx)("button",{onClick:function(){e.props.UnFollow(t.id)},className:x.a.userButton,children:"UNFOLLOW"}):Object(l.jsx)("button",{onClick:function(){e.props.Follow(t.id)},className:x.a.userButton,children:"FOLLOW"})})]})})},t.id)}))]})}}]),s}(i.a.Component),$="FOLLOW",ee="UNFOLLOW",te="SET_USERS",se="SET_CURRENT_PAGE",ae="SET_TOTAL_USERS_COUNT",ne="TOGGLE_IS_FETCHING",re={items:[],totalCount:0,error:null,pageSize:5,currentPage:1,isFetching:!1},ie=Object(y.b)((function(e){return{items:e.usersPage.items,pageSize:e.usersPage.pageSize,totalCount:e.usersPage.totalCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{Follow:function(e){return{type:$,userID:e}},UnFollow:function(e){return{type:ee,userID:e}},SetUsers:function(e){return{type:te,items:e}},SetCurrentPage:function(e){return{type:se,currentPage:e}},SetTotalUsersCount:function(e){return{type:ae,totalCount:e}},SetToggleIsFetching:function(e){return{type:ne,isFetching:e}}})(Q),ce=s(30),oe=s.n(ce);var ue=function(e){return Object(l.jsxs)("header",{className:oe.a.header,children:[Object(l.jsx)("img",{src:"https://i.pinimg.com/originals/5f/53/5a/5f535aa08b3230f893f2a68e74eebf44.png"}),Object(l.jsx)("div",{className:oe.a.loginBlock,children:e.isAuth?e.login:Object(l.jsx)(u.b,{to:"/login",children:"Login"})})]})},le="SET_AUTH_DATA",je={userId:null,email:null,login:null,isAuth:!1},de=function(e){Object(g.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;A.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(t){0===t.data.resultCode&&e.props.SetAuthData(t.data.data.id,t.data.data.email,t.data.data.login)}))}},{key:"render",value:function(){return Object(l.jsx)(ue,{login:this.props.data.login,isAuth:this.props.isAuth})}}]),s}(i.a.Component),pe=Object(y.b)((function(e){return{data:e.auth,isAuth:e.auth.isAuth}}),{SetAuthData:function(e,t,s){return{type:le,data:{userId:e,email:t,login:s}}}})(de);var ge=function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(pe,{}),Object(l.jsx)(j,{}),Object(l.jsxs)("div",{className:"container-content",children:[Object(l.jsx)(F.a,{path:"/profile/:userId?",render:function(){return Object(l.jsx)(L,{})}}),Object(l.jsx)(F.a,{path:"/dialogs",render:function(){return Object(l.jsx)(R,{})}}),Object(l.jsx)(F.a,{path:"/users",render:function(){return Object(l.jsx)(ie,{})}}),Object(l.jsx)(F.a,{path:"/music",render:function(){return Object(l.jsx)(K,{})}}),Object(l.jsx)(F.a,{path:"/settings",render:function(){return Object(l.jsx)(V,{})}})]})]})},be=(s(69),s(31)),me=Object(be.a)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var s=Object(S.a)(Object(S.a)({},e),{},{post:Object(w.a)(e.post)}),a=s.newPostText,n={id:6,message:a,username:"Htoto"};return s.post.unshift(n),s.newPostText="",Object(S.a)({},s);case T:var r=Object(S.a)({},e);return r.newPostText=t.text,Object(S.a)({},r);case U:return Object(S.a)(Object(S.a)({},e),{},{userProfile:Object(S.a)({},t.profileData)});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var s=Object(S.a)(Object(S.a)({},e),{},{dialogs:Object(w.a)(e.dialogs),messages:Object(w.a)(e.messages)}),a=s.newMessageText,n={id:6,message:a};return s.newMessageText="",s.messages.push(n),Object(S.a)({},s);case"CHANGE-MESSAGE-TEXT":var r=Object(S.a)({},e);return r.newMessageText=t.newMessage,Object(S.a)({},r);default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(S.a)(Object(S.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userID?Object(S.a)(Object(S.a)({},e),{},{followed:!0}):e}))});case ee:return Object(S.a)(Object(S.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userID?Object(S.a)(Object(S.a)({},e),{},{followed:!1}):e}))});case ne:return Object(S.a)(Object(S.a)({},e),{},{isFetching:t.isFetching});case te:return Object(S.a)(Object(S.a)({},e),{},{items:t.items});case se:return Object(S.a)(Object(S.a)({},e),{},{currentPage:t.currentPage});case ae:return Object(S.a)(Object(S.a)({},e),{},{totalCount:t.totalCount});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(S.a)(Object(S.a)(Object(S.a)({},e),t.data),{},{isAuth:!0});default:return e}}}),he=Object(be.b)(me);n.a.render(Object(l.jsx)(u.a,{children:Object(l.jsx)(y.a,{store:he,children:Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(ge,{})})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.152afe18.chunk.js.map